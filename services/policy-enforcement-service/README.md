# API сервиса проверки полномочий

Позволяет проверить, имеет ли пользователь определенные разрешения или роли для выполнения определенных действий или доступа к определенным ресурсам

# Зависимости

Перед запуском сервиса необходимо установить зависимости из файла requirements.txt

```
pip install -r requirements.txt
```

# Путь до исполняемого файла

EvoFP/services/policy-enforcement-service

# Запуск

```
uvicorn src:app --reload
```

# Запуск тестов

```
python -m unittest -v
```

# Запуск с использование файла конфигурации .env

Для запуска из файла конфигурации нужно поместить файл .env в корень сервиса

# Конфигурация

| Переменная           |                        Назначение                        | Значение по-умолчанию                        |
| :------------------- | :------------------------------------------------------: | -------------------------------------------- |
| POSTGRES_DSN         |             Строка подключения к PostgreSQL              | postgresql://user:pass@localhost:5432/foobar |
| JWT_SECRET           | Парольная фраза, используемая для кодирования jwt-токена | jwt_secret 5                                 |
| POLICIES_CONFIG_PATH |                    Файл policies.yaml                    | policies.yaml                                |

# Документация

После запуска доступна документация: http://127.0.0.1:8000/docs
